执行方式

```python
# sys.pathb
bash task/code.py
python task/code.py
python -m task.code.py
```









脚本传参

命令行传参由sys.argv或者argparse解析



sys.argv

```python
# python deomo.py 111 222
import sys
gpus = sys.argv[1]
#gpus = [int(gpus.split(','))]
batch_size = sys.argv[2]
print(gpus)
print(batch_size)
```



argparse

```python
# python demo.py --gpus 12 --batch_size 1

import argparse
parser = argparse.ArgumentParser(description='manual to this script')
parser.add_argument("--gpus", type=str, default="0")
parser.add_argument("--batch_size", type=int, default=32)
args = parser.parse_args()
print(args.gpus)
print(args.batch_size)
```




```python
"""
命名空间与作用域
"""

# 命名空间
# 作用域
# 内置命名空间
# 全局命名空间
# 局部命名空间
# 全局作用域
# 局部作用域: 函数作用域
# 全局命名空间(包含内置builtins)\局部命名空间
a = 1


def input():
    global a  # 全局变量
    a = 9
    print("123")


def laa():
    global a

    def input():
        nonlocal a  # 非本地变量(外面直接是模块是不行的)
        a += 9
        print("123")

```

```python
# import 内置模块、三方模块、自定义模块

# from module import ver可能会被本地 名称（引用 ） 覆盖
# 所以from moudle import * 十分的不安全


# __all__ 是 list 类型, 不要写表达式
# 按照 PEP8 建议的风格，__all__ 应该写在所有 import 语句下面，和函数、常量等模块成员定义的上面
# 正式代码中尽量不要使用 from XXX import *
#
# 约定公开接口 ： 可以清晰明了的知道该文件暴露的接口， 约定成俗的调用该接口。
# 限制该行为from XXX import * ： code当中不建议使用 from xxx import * 的写法的，但线下调试的时候经常用到。如果模块中没有定义 __all__，执行 from XXX import * 的时候会将模块中非下划线开头的成员都导入当前命名空间中，这样就有可能弄脏当前命名空间， 调试容易产生问题。如果显式声明了 __all__，import * 就只会导入 __all__ 列出的成员。但它只对import *起作用，对from XXX import XXX不起作用。
#
# 模块就是py文件
#
# 可以import的是包、模块、变量、函数，本质是导入变量和函数
print(__name__)
```

```python
# 导入模块相当于执行模块py文件
# 导入package相当于执行package下的__init__.py文件


# 特别注意，不能import.

# 相对导入，ImportError: attempted relative import with no known parent package
```

```python
# 关于包
# import package需要__init__.py文件，一切皆对象，类似于类的实例化过程


# 函数的命名空间
# 模块的命名空间
# 类的命名空间
# 对象的命名空间

```

```python
def greeting(name):  # 注意此处未指定数据类型
    return "Hello" + name


# 可以看到在两个对应的函数前面有 *星号，点击星号可以跳转到对应位置


print(greeting(1258))

# TypeError: can only concatenate str (not "int") to str
# pycharm会报黄



```


```python
def greeting(name: str) -> str:  # 指定函数数据类型，函数名一样，其他不做任何操作
    pass
```